(this.webpackJsonpelectroract=this.webpackJsonpelectroract||[]).push([[0],{214:function(e,a,t){e.exports=t(287)},261:function(e,a){},284:function(e,a,t){},285:function(e,a,t){},286:function(e,a,t){},287:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(9),l=t.n(o),c=t(32),i=t.n(c),s=t(52),m=t(11),u=t(22),p=t(12),d=t(195),h=function(e){var a=e.component,t=e.isAuthenticated,n=Object(d.a)(e,["component","isAuthenticated"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return!0===t?r.a.createElement(a,e):r.a.createElement(p.a,{to:"/"})}}))},g=t(97),b=t(320),E=t(324),f=t(325),v=t(338),x=t(103),w=t(329),y=t(345),j=t(322),O=t(194),C=t(328),k=t(327),S=Object(b.a)((function(e){return{root:{flexGrow:1,zIndex:100},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function N(e){var a=S(),t=Object(n.useContext)(Ae),o=Object(m.a)(t,2),l=o[0],c=o[1],p=Object(n.useState)(null),d=Object(m.a)(p,2),h=d[0],g=d[1],b=Boolean(h),N=function(){g(null)},A=function(){var a=Object(s.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("http://localhost:8000/api/user/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(l.accesstoken)}});case 2:g(null),c({}),e.history.push("/login");case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:a.root},r.a.createElement(j.a,null),r.a.createElement(E.a,{position:"static"},r.a.createElement(f.a,null,r.a.createElement(v.a,{className:a.title},r.a.createElement(u.b,{to:"/Home",style:{textDecoration:"none",color:"white"}},r.a.createElement(x.a,{variant:"h6",className:a.title},"Home"))),!0===l.isAuthenticated?r.a.createElement(v.a,null,r.a.createElement(u.b,null,r.a.createElement(y.a,{alt:"Remy Sharp","aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){g(e.currentTarget)},src:l.profilePhoto}),r.a.createElement(O.a,{id:"fade-menu",anchorEl:h,keepMounted:!0,open:b,onClose:N,TransitionComponent:k.a,style:{top:"50px"}},r.a.createElement(C.a,{onClick:N},"Profile"),r.a.createElement(C.a,{onClick:N},"My account"),r.a.createElement(C.a,{onClick:A},"Logout")))):r.a.createElement(v.a,{className:a.box},r.a.createElement(u.b,{to:"/login",style:{textDecoration:"none",color:"white"}},r.a.createElement(w.a,{color:"inherit"},"Login"))))))}var A=t(331),B=t(339),P=t(344),D=t(326),R=t(330),T=t(291),z=Object(b.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"#2b2e4a"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,zIndex:-1,backgroundColor:"#2b2e4a"},drawerContainer:{overflow:"auto"},content:{flexGrow:1,height:"100vh",padding:e.spacing(3),backgroundColor:"#384259"},enterRoom:{backgroundColor:"#384259"}}}));function I(){var e=Object(n.useContext)(Ae),a=Object(m.a)(e,2),t=a[0],o=(a[1],Object(n.useState)("")),l=Object(m.a)(o,2),c=l[0],i=l[1],s=z();return r.a.createElement("div",{className:s.root},r.a.createElement(j.a,null),r.a.createElement(R.a,null),r.a.createElement(P.a,{className:s.drawer,variant:"permanent",classes:{paper:s.drawerPaper}},r.a.createElement(f.a,null),r.a.createElement("div",{className:s.drawerContainer},r.a.createElement(D.a,null,r.a.createElement(T.a,null,r.a.createElement(x.a,null,"recent"))),r.a.createElement(R.a,null))),r.a.createElement("main",{className:s.content},r.a.createElement(f.a,null),r.a.createElement(x.a,{component:"h1",variant:"h1",align:"center",gutterBottom:!0,style:{color:"#dbe2ef"}},"A Very Simple Chat Application"),r.a.createElement(x.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"Developed by : sizarcorpse"),r.a.createElement(A.a,{fullWidth:!0,inputProps:{className:s.enterRoom}},r.a.createElement(B.a,{inputProps:{className:s.enterRoom},variant:"outlined",margin:"normal",required:!0,id:"room",value:c,label:"Enter A Room Name",name:"room",autoFocus:!0,onChange:function(e){return i(e.target.value)}})),r.a.createElement(u.b,{onClick:function(e){return t.username&&c?null:e.preventDefault()},to:"/chat?name=".concat(t.username,"&room=").concat(c),style:{textDecoration:"none"}},r.a.createElement(w.a,{variant:"outlined",color:"primary",fullWidth:!0},"Join"))))}var W=t(89),q=t(48),F=t(340),M=t(335),V=t(343),L=t(333),U=t(124),G=t.n(U),J=t(290),H=t(332),K=t(342),X=Object(b.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},root2:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var Y=function(e){var a=Object(n.useContext)(Ae),t=Object(m.a)(a,2),o=t[0],l=t[1],c=Object(n.useState)(""),p=Object(m.a)(c,2),d=p[0],h=p[1],b=X();Object(n.useEffect)((function(){!0===o.isAuthenticated&&e.history.push("/home")}),[]);var E=q.a({email:q.b().email("Please Enter A Valid Email").lowercase().required("Email Can Not Be Empty"),password:q.b().min(8)}),f=function(){var a=Object(s.a)(i.a.mark((function a(t,n){var r,o,c,s,m,u,p;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.resetForm,r=t.email,o=t.password,a.next=4,fetch("http://localhost:8000/api/user/login",{method:"POST",credentials:"include",crossDomain:!0,withCredentials:!0,xhrFields:{withCredentials:!0},mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0},body:JSON.stringify({email:r,password:o})});case 4:return a.next=6,a.sent.json();case 6:c=a.sent,console.log(c),c.accesstoken?(s=Object(g.a)(c.accesstoken),m=s.username,u=s.email,p=s.profilePhoto,l({accesstoken:c.accesstoken,isAuthenticated:!0,username:m,email:u,profilePhoto:p}),e.history.push("/home")):h(c.error);case 9:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return r.a.createElement(v.a,null,!0===o.isAuthenticated?e.history.push("/home"):r.a.createElement(L.a,{container:!0,component:"main",className:b.root},r.a.createElement(j.a,null),r.a.createElement(L.a,{item:!0,xs:!1,sm:4,md:7,className:b.image},r.a.createElement(K.a,{xsDown:!0},r.a.createElement(x.a,{component:"h1",variant:"h1",align:"center",gutterBottom:!0,style:{marginTop:"20vh",color:"#222831"}},"A Very Simple Chat Application"),r.a.createElement(x.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"Something short and leading about the application below\u2014its contents, the creator, etc. Make it short and sweet, but not too short so folks don't simply skip over it entirely."),r.a.createElement(x.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"Developed by : sizarcorpse"))),r.a.createElement(L.a,{item:!0,xs:12,sm:8,md:5,component:J.a,elevation:6,square:!0},r.a.createElement("div",{className:b.paper},r.a.createElement(y.a,{className:b.avatar},r.a.createElement(G.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement(W.b,{initialValues:{email:"",password:""},validationSchema:E,onSubmit:f,validateOnChange:!1,validateOnBlur:!1},(function(e){var a=e.values,t=e.touched,n=e.errors,o=e.handleChange,l=e.handleBlur;return r.a.createElement(W.a,{className:b.form},d&&r.a.createElement("div",{className:b.root2},r.a.createElement(F.a,{severity:"error"},d)),r.a.createElement(L.a,{container:!0,spacing:2},r.a.createElement(L.a,{item:!0,xs:12,sm:12},r.a.createElement(A.a,{error:t.email&&Boolean(n.email),fullWidth:!0},r.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,id:"email",value:a.email,label:"Email Address",name:"email",autoFocus:!0,onChange:o,onBlur:l,fullWidth:!0}),r.a.createElement(H.a,{id:"component-error-text"},t.email?n.email:""))),r.a.createElement(L.a,{item:!0,xs:12,sm:12},r.a.createElement(A.a,{error:t.password&&Boolean(n.password),fullWidth:!0},r.a.createElement(B.a,{variant:"outlined",type:"password",margin:"normal",required:!0,id:"password",value:a.password,name:"password",autoComplete:"password",autoFocus:!0,onChange:o,onBlur:l}),r.a.createElement(H.a,{id:"component-error-text"},t.password?n.password:""))),r.a.createElement(M.a,{control:r.a.createElement(V.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:b.submit},"Sign In"),r.a.createElement(L.a,{container:!0},r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(u.b,{href:"#",variant:"body2",style:{textDecoration:"none"}},"Forgot password?")),r.a.createElement(L.a,{item:!0},r.a.createElement(u.b,{to:"/",variant:"body2",style:{textDecoration:"none"}},"Don't have an account? Sign Up")))))}))))))},$=Object(b.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function _(e){var a=$(),t=Object(n.useState)(""),o=Object(m.a)(t,2),l=o[0],c=o[1],p=q.a({username:q.b().matches(/^[a-z0-9_.]+$/,"Enter a Valid Username").trim().min(4,"Username is Too Short").max(30,"Username is Too Long").lowercase().required(),email:q.b().email("Please Enter A Valid Email").min(8,"Please Enter A Valid Email").max(30,"Eamil is Too Large").lowercase().required("Email Can Not Be Empty"),password:q.b().min(8)}),d=function(){var a=Object(s.a)(i.a.mark((function a(t,n){var r,o,l,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.resetForm,r=t.username,o=t.email,l=t.password,a.next=4,fetch("http://localhost:8000/api/user/signup",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,email:o,password:l})});case 4:return a.next=6,a.sent.json();case 6:s=a.sent,console.log(s),s.success?e.history.push("/login"):c(s.error);case 9:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return r.a.createElement(L.a,{container:!0,component:"main",className:a.root},r.a.createElement(j.a,null),r.a.createElement(L.a,{item:!0,xs:!1,sm:4,md:7,className:a.image},r.a.createElement(K.a,{xsDown:!0},r.a.createElement(x.a,{component:"h1",variant:"h1",align:"center",gutterBottom:!0,style:{marginTop:"20vh",color:"#222831"}},"A Very Simple Chat Application"),r.a.createElement(x.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"Something short and leading about the application below\u2014its contents, the creator, etc. Make it short and sweet, but not too short so folks don't simply skip over it entirely."),r.a.createElement(x.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"Developed by : sizarcorpse"))),r.a.createElement(L.a,{item:!0,xs:12,sm:8,md:5,component:J.a,elevation:6,square:!0},r.a.createElement("div",{className:a.paper},r.a.createElement(y.a,{className:a.avatar},r.a.createElement(G.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement(W.b,{initialValues:{username:"",email:"",password:""},validationSchema:p,onSubmit:d,validateOnChange:!1,validateOnBlur:!1},(function(e){var t=e.values,n=e.touched,o=e.errors,c=e.handleChange,i=e.handleBlur;return r.a.createElement(W.a,{className:a.form},l&&r.a.createElement("div",{className:a.root2},r.a.createElement(F.a,{severity:"error"},l)),r.a.createElement(L.a,{container:!0,spacing:2},r.a.createElement(L.a,{item:!0,xs:12,sm:12},r.a.createElement(A.a,{error:n.username&&Boolean(o.username),fullWidth:!0},r.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,id:"username",value:t.username,label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:c,onBlur:i}),r.a.createElement(H.a,{id:"component-error-text"},n.username?o.username:""))),r.a.createElement(L.a,{item:!0,xs:12,sm:12},r.a.createElement(A.a,{error:n.email&&Boolean(o.email),fullWidth:!0},r.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,id:"email",value:t.email,label:"Email Address",name:"email",autoComplete:"email",onChange:c,onBlur:i}),r.a.createElement(H.a,{id:"component-error-text"},n.email?o.email:""))),r.a.createElement(L.a,{item:!0,xs:12,sm:12},r.a.createElement(A.a,{error:n.password&&Boolean(o.password),fullWidth:!0},r.a.createElement(B.a,{variant:"outlined",type:"password",margin:"normal",required:!0,id:"password",value:t.password,label:"Password",name:"password",autoComplete:"password",onChange:c,onBlur:i}),r.a.createElement(H.a,{id:"component-error-text"},n.password?o.password:""))),r.a.createElement(M.a,{control:r.a.createElement(V.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign Up"),r.a.createElement(L.a,{container:!0},r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(u.b,{href:"#",variant:"body2",style:{textDecoration:"none"}},"Forgot password?")),r.a.createElement(L.a,{item:!0},r.a.createElement(u.b,{to:"/login",variant:"body2",style:{textDecoration:"none"}},"You have an account? Sign in")))))})))))}var Q,Z=t(193),ee=t(186),ae=t(39),te=t(187),ne=t.n(te),re=t(188),oe=t.n(re),le=function(e){var a=e.message,t=e.setMessage,n=e.sendMessage;return r.a.createElement("form",null,r.a.createElement(A.a,{fullWidth:!0,style:{padding:"0px 30px 10px 30px",height:"30px",margin:0}},r.a.createElement(B.a,{placeholder:"Type a message",type:"text",margin:"normal",required:!0,id:"password",value:a,name:"password",autoFocus:!0,onChange:function(e){return t(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}})))},ce=t(144),ie=t.n(ce),se=(t(284),t(148)),me=t.n(se),ue=(t(285),Object(b.a)((function(e){return{mc:{display:"flex",justifyContent:"flex-end",padding:"3px",margin:0},mb:{borderRadius:"20px",padding:"5px",color:"black",display:"flex",maxWidth:"80%",background:" #e5e5e5"},mt:{width:"100%",letterSpacing:0,fontSize:"1.1em",wordWrap:"break-word",display:"flex",alignItems:"center",paddingLeft:"10px",marginRight:"20px"},mc2:{display:"flex",justifyContent:"flex-start",padding:"3px",margin:0},mc3:{display:"flex",justifyContent:"flex-center",padding:"3px",margin:0}}}))),pe=function(e){var a=e.message,t=a.ruser,o=a.text,l=a.profilePhoto,c=(e.name,Object(n.useContext)(Ae)),i=Object(m.a)(c,2),s=i[0],u=(i[1],ue()),p=!1;return s.username===t&&(p=!0),p?r.a.createElement(v.a,{className:u.mc},r.a.createElement(v.a,{className:u.mb},r.a.createElement(x.a,{className:u.mt},me.a.emojify(o)),l&&r.a.createElement(y.a,{style:{justifyContent:"center"},alt:"Remy Sharp",src:l}))):r.a.createElement(v.a,{className:u.mc2},r.a.createElement(v.a,{className:u.mb},l&&r.a.createElement(y.a,{style:{justifyContent:"center"},alt:"Remy Sharp",src:l}),r.a.createElement(x.a,{className:u.mt},me.a.emojify(o))))},de=function(e){var a=e.messages,t=e.name;return r.a.createElement(ie.a,{className:"messages"},a.map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement(pe,{message:e,name:t}))})))},he=(t(286),t(3)),ge=t(18),be=t(334),Ee=t(189),fe=t.n(Ee),ve=t(192),xe=t.n(ve),we=t(191),ye=t.n(we),je=t(336),Oe=t(337),Ce=t(190),ke=t.n(Ce),Se=Object(b.a)((function(e){var a;return{"@global":{"*::-webkit-scrollbar":{width:"0.4em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px #1b262c"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#1b262c",outline:"1px solid slategrey"}},root:{display:"flex",backgroundColor:"#112d4e"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#2b2e4a"},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:"#2b2e4a"},drawerClose:(a={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(ae.a)(a,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(ae.a)(a,"backgroundColor","#2b2e4a"),a),toolbar:Object(ee.a)({display:"flex",alignItems:"center",justifyContent:"flex-start",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(1),backgroundColor:"#384259",heigth:"100%"},container:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"8px",height:"86vh",width:"100%"},inputArea:{backgroundColor:"#f7fbfc",margin:0,paddingLeft:"20x",borderRadius:"40px",height:"57px"}}}));var Ne=function(e){var a,t,o=e.location,l=Object(n.useState)(""),c=Object(m.a)(l,2),i=c[0],s=c[1],p=Object(n.useState)(""),d=Object(m.a)(p,2),h=d[0],g=d[1],b=Object(n.useState)(),w=Object(m.a)(b,2),O=w[0],C=w[1],k=Object(n.useState)(""),S=Object(m.a)(k,2),N=S[0],A=S[1],B=Object(n.useState)([]),z=Object(m.a)(B,2),I=z[0],W=z[1];Object(n.useEffect)((function(){var e=ne.a.parse(o.search),a=e.name,t=e.room;return Q=oe()("localhost:8000"),s(a),g(t),Q.emit("join",{name:a,room:t},(function(e){e&&alert(e)})),function(){Q.emit("disconnect"),Q.off()}}),["localhost:8000",o.search]),Object(n.useEffect)((function(){Q.on("message",(function(e){W([].concat(Object(Z.a)(I),[e]))})),Q.on("roomData",(function(e){var a=e.users;C(a)}))}),[I]);var q=Se(),F=Object(ge.a)(),M=Object(n.useState)(!0),V=Object(m.a)(M,2),L=V[0],U=V[1];return r.a.createElement(J.a,{style:{backgroundColor:"#2d4059"}},r.a.createElement(v.a,{className:q.root},r.a.createElement(j.a,null),r.a.createElement(E.a,{position:"fixed",className:Object(he.a)(q.appBar,Object(ae.a)({},q.appBarShift,L))},r.a.createElement(f.a,{className:q.toolbar},r.a.createElement(be.a,{color:"inherit","aria-label":"open drawer",onClick:function(){U(!0)},edge:"start",className:Object(he.a)(q.menuButton,Object(ae.a)({},q.hide,L))},r.a.createElement(fe.a,null)),r.a.createElement(x.a,{variant:"h6",noWrap:!0},h),r.a.createElement(u.b,{to:"/home",style:{textDecoration:"none",display:"flex",justifyContent:"flex-end",flexGrow:1,marginRight:"20px",color:"white"}},r.a.createElement(ke.a,null)))),r.a.createElement(P.a,{variant:"permanent",className:Object(he.a)(q.drawer,(a={},Object(ae.a)(a,q.drawerOpen,L),Object(ae.a)(a,q.drawerClose,!L),a)),classes:{paper:Object(he.a)((t={},Object(ae.a)(t,q.drawerOpen,L),Object(ae.a)(t,q.drawerClose,!L),t))}},r.a.createElement("div",{className:q.toolbar},r.a.createElement(be.a,{onClick:function(){U(!1)}},"rtl"===F.direction?r.a.createElement(ye.a,null):r.a.createElement(xe.a,null))),r.a.createElement(R.a,null),r.a.createElement(D.a,null,O&&O.map((function(e,a){return r.a.createElement(T.a,{button:!0,key:e},r.a.createElement(je.a,null,r.a.createElement(y.a,{alt:"Remy Sharp",src:e.profilePhoto})),r.a.createElement(Oe.a,{primary:e.username}))}))),r.a.createElement(R.a,null)),r.a.createElement("main",{className:q.content},r.a.createElement("div",{className:q.container},r.a.createElement(de,{messages:I,name:i})),r.a.createElement("div",{className:q.inputArea},r.a.createElement(le,{message:N,setMessage:A,sendMessage:function(e){e.preventDefault(),N&&Q.emit("sendMessage",N,(function(){A("")}))}})))))},Ae=Object(n.createContext)([]),Be=function(){var e=Object(n.useState)({}),a=Object(m.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)(!0),c=Object(m.a)(l,2),d=c[0],b=c[1];return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a,t,n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8000/api/user/refreshtoken",{method:"POST",credentials:"include",withCredentials:!0,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}});case 2:return e.next=4,e.sent.json();case 4:(a=e.sent).accesstoken?(t=Object(g.a)(a.accesstoken),n=t.username,r=t.email,l=t.profilePhoto,o({accesstoken:a.accesstoken,isAuthenticated:!0,username:n,email:r,profilePhoto:l}),b(!1)):b(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),console.log("----------------------------from app")}),[]),d?r.a.createElement("div",null,"Loding..."):r.a.createElement(Ae.Provider,{value:[t,o]},r.a.createElement(u.a,null,r.a.createElement(p.b,{path:"/",component:N}),r.a.createElement(p.d,null,r.a.createElement(h,{path:"/home",exact:!0,component:I,isAuthenticated:t.isAuthenticated}),r.a.createElement(h,{path:"/Chat",exact:!0,component:Ne,isAuthenticated:t.isAuthenticated}),r.a.createElement(p.b,{path:"/login",component:Y}),r.a.createElement(p.b,{path:"/",exact:!0,component:_}))))};l.a.render(r.a.createElement(Be,null),document.getElementById("root"))}},[[214,1,2]]]);
//# sourceMappingURL=main.8b86ccf7.chunk.js.map